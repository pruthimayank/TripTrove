<head>
    <title>Package</title>
</head>
{% extends 'base.html' %}

{% block additional_css %}
    <style>
            
        /* Video Background */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow-x: hidden;
        }

        /* Container for the video and two sections */
        .video-container {
            position: relative;
            height: 200vh; /* To cover both sections */
        }

        /* Background video settings */
        #background-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 95%;
            object-fit: cover;
            z-index: -1; /* Keep video behind everything */
        }

        /* Section styling */
        .section {
            position: relative;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            font-family: Arial, sans-serif;
            z-index: 1; /* Ensure text is on top of video */
        }

        /* Text styles */
        h1, p {
            margin: 0;
            padding: 0;
            color: white;
        }

        /* Initial city name content */
        .section h1 {
            font-size: 3em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Description content */
        .section p {
            font-size: 1.5em;
            max-width: 600px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        /* Normal section content (after video ends) */
        .normal-section {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f0f0f0;
            color: black;
            font-size: 1.5em;
        }

    </style>
{% endblock %}

{% block content %}
    <main>
        <!-- Video Container -->
        <div class="video-container">

            <!-- Video Background -->
            <video autoplay muted loop id="background-video">
                <source src="{{package.video}}" type="video/mp4">
            </video>

            <!-- Section for city name -->
            <section class="section" id="city-name">
                <div class="content fade-in active">
                    <h1>{{package.name}}</h1>
                </div>
            </section>

            <!-- Section for city description (triggered by scroll) -->
            <section class="section border-bottom" id="city-description">
                <div class="content fade-in">
                    <p>{{package.description}}</p>
                </div>
            </section>

        </div>

        <!-- New sections (after video ends) -->
        <section class="normal-section border-bottom" style="background-color: #141414;">
            <p>This is a new section after the video ends.</p>
        </section>

        <section class="normal-section" style="background-color: #141414;">
            <p>Here you can add more content as needed.</p>
        </section>
    </main>
{% endblock %}

{% block additional_js %}
    <script>
        // Select the elements we want to animate
        const fadeInElements = document.querySelectorAll('.fade-in');

        // Function to trigger the fade-in effect when scrolling
        function handleScroll() {
            fadeInElements.forEach(element => {
                const elementPosition = element.getBoundingClientRect().top;
                const windowHeight = window.innerHeight;

                // Check if the element is in the viewport
                if (elementPosition < windowHeight - 100) {
                    element.classList.add('active');
                } else {
                    element.classList.remove('active');
                }
            });
        }

        // Run on scroll and load
        window.addEventListener('scroll', handleScroll);
        window.addEventListener('load', handleScroll);
    </script>
{% endblock %}